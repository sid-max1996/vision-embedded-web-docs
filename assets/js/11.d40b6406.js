(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{282:function(t,s,a){"use strict";a.r(s);var e=a(14),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"интерфеисы"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#интерфеисы"}},[t._v("#")]),t._v(" Интерфейсы")]),t._v(" "),s("h2",{attrs:{id:"cubicplayer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cubicplayer"}},[t._v("#")]),t._v(" CubicPlayer")]),t._v(" "),s("p",[t._v("Плеер CubicVision должен определять объект window.CubicPlayer на встраиваемой веб странице. Интерфейс должен включать следующие методы:")]),t._v(" "),s("h3",{attrs:{id:"работа-с-хранилищем-данных"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#работа-с-хранилищем-данных"}},[t._v("#")]),t._v(" Работа с хранилищем данных")]),t._v(" "),s("p",[s("strong",[t._v("getStoreValue")]),s("br"),t._v("\nМетод для получения ранее сохранённых данных из стора плеера")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStoreValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("key")]),t._v(" - "),s("em",[t._v("Уникальный ключ ассоцируемый с данными")])]),t._v(" "),s("li",[s("em",[t._v("Возвращает JSON строку с данными или Promise c тем же результатом")])]),t._v(" "),s("li",[t._v("Если данные в хранилище не найдены, необходимо возвращать: "),s("code",[t._v("'null'")])]),t._v(" "),s("li",[t._v("В сторе могут храниться только строки в формате JSON")])]),t._v(" "),s("p",[s("strong",[t._v("saveStoreValue")]),s("br"),t._v("\nМетод для сохранения данных в сторе плеера")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveStoreValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useAfterRepublishing"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("key")]),t._v(" - "),s("em",[t._v("Уникальный ключ ассоцируемый с данными")])]),t._v(" "),s("li",[s("strong",[t._v("value")]),t._v(" - "),s("em",[t._v("Строка в формате JSON (данные)")])]),t._v(" "),s("li",[s("strong",[t._v("useAfterRepublishing")]),t._v(" - "),s("em",[t._v("Должны ли данные очищаться после того как переопубликуют шаблон в CMS. true - не должны очищаться, false - должны очищаться. Если третий параметр отсутствует, считать, что передан false")])]),t._v(" "),s("li",[s("em",[t._v("Возвращает void или Promise c тем типом")])]),t._v(" "),s("li",[t._v("Сразу после того, как будет вызвана функция, данные в сторе должны измениться")]),t._v(" "),s("li",[t._v("В сторе могут храниться только строки в формате JSON")])]),t._v(" "),s("h3",{attrs:{id:"переход-между-сценами"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#переход-между-сценами"}},[t._v("#")]),t._v(" Переход между сценами")]),t._v(" "),s("p",[s("strong",[t._v("goToScene")]),s("br"),t._v("\nМетод для переключения сцены")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goToScene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sceneId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("sceneId")]),t._v(" - "),s("em",[t._v("Id сцены, на которую нужно перейти")])])]),t._v(" "),s("p",[s("strong",[t._v("goToPreviousScene")]),s("br"),t._v("\nМетод для перехода на предыдущую сцену")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goToPreviousScene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Плеер должен хранить id предыдущей сцены и осуществлять переход на эту сцену. Если предыдущей сцены не было, то ничего не делать.")]),t._v(" "),s("li",[t._v("Если были на первой сцене с id 0, то метод ничего не делает. Если затем перешли на сцену с id 1, и вызвали метод, то вернуться на сцену с id 0. Если вызывать метод ещё раз, ничего не делать, не нужно опять возвразаться на сцену с id 1.")])]),t._v(" "),s("h3",{attrs:{id:"логирование"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#логирование"}},[t._v("#")]),t._v(" Логирование")]),t._v(" "),s("p",[s("strong",[t._v("writeLogToFile")]),s("br"),t._v("\nМетод для записи лога в файл")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeLogToFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" logText"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("logType")]),t._v(" - "),s("em",[t._v("'debug' | 'info' | 'error' | 'warning' (возможные значения)")])]),t._v(" "),s("li",[s("strong",[t._v("logText")]),t._v(" - "),s("em",[t._v("текст лога для записи")])]),t._v(" "),s("li",[t._v("Лог записывается новой строчкой в файл логов за текущий день")])])])}),[],!1,null,null,null);s.default=r.exports}}]);